!function(t){function e(e){for(var i,o,a=e[0],u=e[1],c=e[2],h=0,d=[];h<a.length;h++)o=a[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);for(l&&l(e);d.length;)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={15:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;s.push([267,0]),n()}({240:function(t,e,n){var i,r;function s(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}i=[n(8),n(84)],void 0===(r=function(t){var e="&profile="+t('form[role="search"] input[name="profile"]').val();return"&profile=undefined"==e&&(e=""),{init:function(){var n="https://websearch.gold.ac.uk/s/suggest.json?partial_query=%QUERY&sort=0&fmt=json++&",i=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:5,remote:{url:n+"collection=goldsmiths~sp-meta&show=5",filter:function(e){return t.map(e,(function(t){return t}))},ajax:{jsonp:"callback",dataType:"jsonp"}}}),r=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:3,remote:{url:n+"collection=goldsmiths~sp-meta&show=3&profile=auto-completion-meta-courses",filter:function(e){return t.map(e,(function(t){return t.disp}))},ajax:{jsonp:"callback",dataType:"jsonp"}}}),o=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:3,remote:{url:n+"collection=goldsmiths~sp-meta&profile=auto-completion-meta-staff",filter:function(e){return t.map(e,(function(t){return t.disp}))},ajax:{jsonp:"callback",dataType:"jsonp"}}}),a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:3,remote:{url:n+"collection=goldsmiths~sp-meta&profile=auto-completion-meta-events",filter:function(e){return t.map(e,(function(t){return t.disp}))},ajax:{jsonp:"callback",dataType:"jsonp"}}});i.initialize(),r.initialize(),o.initialize(),a.initialize(),t("#search-site").fbtypeahead({minLength:1,hint:!1,highlight:!0,assistivehint:"As you type into this search box, suggested search terms and search results will become available as links below the form."},{name:"organic",displayKey:"value",source:i.ttAdapter(),templates:{header:'<h3 id="suggest-organic" class="search-results-title">Suggested <span class="visuallyhidden">possible search terms:</span></h3>',empty:'<li class="no-results">No suggestions found.</li>',suggestion:function(t){return'<span class="ui-autocomplete__item"><a href="/search-results/?collection=goldsmiths~sp-meta&amp;query='.concat(t.disp).concat(e,'" title="Search for \'').concat(t.disp,"'\">").concat(t.disp,"</a></span>")},footer:'<span class="visuallyhidden">Suggested search results may be available below. </span>'}},{name:"courses",displayKey:"value",source:r.ttAdapter(),arialive:"off",templates:{empty:'<li class="no-results">No suggestions found.</li>',header:'<h3 id="suggest-courses" class="search-box__title"><span class="visuallyhidden">Suggestions in </span>Course finder</h3>',suggestion:function(t){var e=t.listMetadata||{},n=Array.isArray(e.name)?e.name[0]:t.title,i=Array.isArray(e.department)?e.department[0]:"",r=Array.isArray(e.thumbnail)?e.thumbnail[0]:"";return'<article class="teaser teaser--programme teaser--dark media">\n          <a href="'.concat(t.liveUrl,'">\n              <div class="media__figure">\n                  <div class="teaser__image" style="background-image:url(\'').concat(r,'\');"></div>\n              </div>\n              <div class="media__body">\n                  <h3 class="teaser__title dropdown__title">').concat(n,'</h3>\n                  <div class="teaser__body"><p>').concat(i,"</p></div>\n              </div>\n          </a>\n      </article>")},footer:function(t){return'<a style="color:white;" href="/course-finder/results/?collection=goldsmiths-courses&query='.concat(t.query,'">See all course results</a>')}}},{name:"staff",displayKey:"value",source:o.ttAdapter(),arialive:"off",templates:{empty:'<li class="no-results">No suggestions found.</li>',header:'<h3 id="suggest-staff" class="search-box__title"><span class="visuallyhidden">Suggestions in </span>Staff</h3>',suggestion:function(t){var e,n,i=s((t.title||"").split(" ")),r=i[0],o=i.slice(1),a=o[0]||"",u=o.slice(1).join(" ")||"",c=Array.isArray(t.listMetadata.position)&&t.listMetadata.position.length>0?t.listMetadata.position[0]:"",l=t.liveUrl||"#",h=(null===(e=t.listMetadata)||void 0===e||null===(n=e.thumbnail)||void 0===n?void 0:n[0])||"https://www.gold.ac.uk/media/staff-profile-placeholder.jpg",d="".concat(r," <strong>").concat(a,"</strong> ").concat(u);return'\n        <article class="teaser teaser--programme teaser--dark media">\n          <a href="'.concat(l,'">\n            <div class="media__figure">\n              <div class="teaser__image" style="background-image:url(\'').concat(h,'\');"></div>\n            </div>\n            <div class="media__body">\n              <h3 class="teaser__title dropdown__title">').concat(d,'</h3>\n              <div class="teaser__body">\n                <p>').concat(c,"</p>\n              </div>\n            </div>\n          </a>\n        </article>\n      ")},footer:function(t){return'<a style="color:white;" href="/staff/?query='.concat(t.query,'">See all staff results</a>')}}},{name:"events",displayKey:"value",source:a.ttAdapter(),arialive:"off",templates:{empty:'<li class="no-results">No suggestions found.</li>',header:'<h3 id="suggest-events" class="search-box__title"><span class="visuallyhidden">Suggestions in </span>Events</h3>',suggestion:function(t){var e=t.title||"Untitled Event",n=t.listMetadata||{},i=Array.isArray(n.dateRange)?n.dateRange[0]:"",r=Array.isArray(n.thumbnail)?n.thumbnail[0]:"/media/staff-profile-placeholder.jpg",s=t.liveUrl||"#";return'\n        <article class="teaser teaser--programme teaser--dark media">\n            <a href="'.concat(s,'">\n                <div class="media__figure">\n                    <div class="teaser__image" style="background-image:url(\'').concat(r,'\');"></div>\n                </div>\n                <div class="media__body">\n                    <h3 class="teaser__title dropdown__title">').concat(e,'</h3>\n                    <div class="teaser__body">\n                        <p>').concat(i,"</p>\n                    </div>\n                </div>\n            </a>\n        </article>")},footer:function(t){return'<a style="color:white;" href="/calendar/?query='.concat(t.query,'">See all event results</a>')}}}).on("typeahead:selected",(function(t,e){if(console.log(e),e.url)return location=e.url,!1}))}}}.apply(e,i))||(t.exports=r)},241:function(t,e,n){var i,r;i=[n(8),n(84)],void 0===(r=function(t){return{init:function(){var e=t(".mini-search, .hero-search, .c-course-finder__form, .news-search, .meta-search");if(e.length>0){"&profile=undefined"==(l="&profile="+(c=t(e[0])).find('input[name="profile"]').val())&&(l=""),"&form=undefined"==(h="&form="+c.find('input[name="form"]').val())&&(h="");var n="collection="+c.find('input[name="collection"]').val();if(c.hasClass("mini-search")){var i=/[?&]query=([^&]+)/i.exec(location.search),r="";if(i&&(r=i[1]),p="?"+n+"&query="+r,d=location.origin+location.pathname+"?"+n+h+l,t("#facets").length>0){var s=t("#facets").serialize().replace("%2B","+");d=s?d+"&"+s:d,t("#facets :checked").each((function(){c.append('<input type="hidden" name="'+this.name+'" value="'+this.value+'" />')}))}}else f=c.attr("action"),d=f+"?"+n+h+l;t("#facets .category span").on("keydown",(function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),t(e.target).find("input").trigger("click"))})),t("#facets").change((function(){var e=t(this).serialize();if(e=e.replace("%2B","+"),"collection=goldsmiths-clearing"==n){var i="";t(this).find("input").each((function(){if(this.checked){var t="~primarysubject:"+this.id+encodeURIComponent("^3.0");""==i?(i="&s=",i+=t):i+=encodeURIComponent("|")+t}})),e+=i,""!=i&&(e+="&sort=",""!=r&&(e+="&query_orsand="+encodeURIComponent(r).replace(/%2B/g,"+")))}window.location=p+"&"+e})),"collection=goldsmiths-clearing"==n&&(t("#search-facets").on("click",".applied-facets",(function(e){e.preventDefault();var n=t(this).data("subject");t("input#"+n).click()})),c.on("submit",(function(e){if(t("#facets :checked").length){c.append('<input type="hidden" name="query_orsand" value="'+c.find('input[name="query"]').val()+'" />'),c.append('<input type="hidden" name="sort" value="" />');var n="";t("#facets :checked").each((function(){n+="|~primarysubject:"+this.id+"^3.0"})),c.append('<input type="hidden" name="s" value="'+n.substring(1)+'" />')}})));var o="https://websearch.gold.ac.uk/../s/suggest.json?partial_query=%QUERY&sort=0&show=4&alpha=.5&"+n+"&profile=_default&fmt=json++";(g=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("disp"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:o,ajax:{jsonp:"callback",dataType:"jsonp"}}})).initialize();var a={empty:['<span class="empty-message">Unable to find any suggestions for your query...</span>'].join("\n"),suggestion:function(t){switch(displayitem="",t.disp_t){case"J":displayitem='<li class="ui-autocomplete__item"><a href="'+d+"&query="+t.disp.title+'" title="Search for '+t.disp.title+'">'+t.disp.title+"</a>";break;default:displayitem='<li class="ui-autocomplete__item"><a href="'+d+"&query="+t.disp+'" title="Search for '+t.disp+'">'+t.disp+"</a>"}return displayitem},header:'<h3 id="suggest-fb-suggestions" class="search-results-title">Suggested <span class="visuallyhidden">results:</span></h3>'};t(".simple-search, .new-search-input").fbtypeahead({highlight:!0,hint:!1},{name:"fb-suggestions",displayKey:"disp",source:g.ttAdapter(),templates:a})}var u=t(".course-search, #hp-course-search");if(u.length>0){var c,l,h;"&profile=undefined"==(l="&profile="+(c=t(u[0])).find('input[name="profile"]').val())&&(l=""),"&form=undefined"==(h="&form="+c.find('input[name="form"]').val())&&(h="");var d,p,f;n="&collection="+c.find('input[name="collection"]').val();if(c.hasClass("mini-search")){i=/[?&]query=([^&]+)/i.exec(location.search),r="";i&&(r=i[1]),p=n+"&query="+r,d=location.origin+location.pathname+n+h+l}else f=c.attr("action"),d=f+n+h+l;t("#facets .category span").on("keydown",(function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),t(e.target).find("input").trigger("click"))})),t("#facets").change((function(){var e=t(this).serialize();e=e.replace("%2B","+"),window.location=p+"&"+e}));var g;o="https://websearch.gold.ac.uk/../s/suggest.json?partial_query=%QUERY&sort=0&show=3&alpha=.5"+n+"&profile=_default&fmt=json++";(g=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("disp"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:o,ajax:{jsonp:"callback",dataType:"jsonp"}}})).initialize(),t(".simple-search, .new-search-input").fbtypeahead({highlight:!0,hint:!1,assistivehint:"As you type into this search box, suggested results will become available as links below the form."},{name:"fb-suggestions",displayKey:"disp",source:g.ttAdapter(),templates:{empty:['<span class="empty-message">Unable to find any suggestions for your query...</span>'].join("\n"),header:'<h3 id="suggest-fb-suggestions" class="search-results-title">Suggested <span class="visuallyhidden">results:</span></h3>',suggestion:function(t){switch(displayitem="",t.disp_t){case"J":default:displayitem='<span class="ui-autocomplete__item"><a href="'+t.disp.url+'">'+t.disp.title+"</a></span>"}return displayitem},footer:function(t){return'<a href="/course-finder/results/?collection=goldsmiths-courses&query='.concat(t.query,'">See all course results for ').concat(t.query,"</a>")}}})}}}}.apply(e,i))||(t.exports=r)},267:function(t,e,n){"use strict";n.r(e),function(t){var e=n(240),i=n.n(e),r=n(241),s=n.n(r);t.fn.fbtypeahead=t.fn.typeahead.noConflict(),i.a.init(),s.a.init()}.call(this,n(8))},84:function(t,e,n){(function(t){
/*!
 * typeahead.js 0.10.2
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */
!function(e){var n,i={isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(t){return void 0===t},bind:e.proxy,each:function(t,n){e.each(t,(function(t,e){return n(e,t)}))},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,(function(e,r){if(!(i=n.call(null,r,e,t)))return!1})),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,(function(e,r){if(i=n.call(null,r,e,t))return!1})),!!i):i},mixin:e.extend,getUniqueId:(n=0,function(){return n++}),templatify:function(t){return e.isFunction(t)?t:function(){return String(t)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var s,o,a=this,u=arguments;return s=function(){i=null,n||(r=t.apply(a,u))},o=n&&!i,clearTimeout(i),i=setTimeout(s,e),o&&(r=t.apply(a,u)),r}},throttle:function(t,e){var n,i,r,s,o,a;return o=0,a=function(){o=new Date,r=null,s=t.apply(n,i)},function(){var u=new Date,c=e-(u-o);return n=this,i=arguments,c<=0?(clearTimeout(r),r=null,o=u,s=t.apply(n,i)):r||(r=setTimeout(a,c)),s}},noop:function(){}},r=function(t){return{nonword:n,whitespace:e,obj:{nonword:i(n),whitespace:i(e)}};function e(t){return t.split(/\s+/)}function n(t){return t.split(/\W+/)}function i(t){return function(e){return function(n){return t(n[e])}}}}(),s=function(){function t(t){this.maxSize=t||100,this.size=0,this.hash={},this.list=new e}function e(){this.head=this.tail=null}function n(t,e){this.key=t,this.val=e,this.prev=this.next=null}return i.mixin(t.prototype,{set:function(t,e){var i,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key]),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new n(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val}}),i.mixin(e.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),o=function(){var t,e;try{(t=window.localStorage).setItem("~~~","!"),t.removeItem("~~~")}catch(e){t=null}function n(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}return e=t&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),o(t.getItem(this._prefix(e)))},set:function(e,n,o){return i.isNumber(o)?t.setItem(this._ttlKey(e),s(r()+o)):t.removeItem(this._ttlKey(e)),t.setItem(this._prefix(e),s(n))},remove:function(e){return t.removeItem(this._ttlKey(e)),t.removeItem(this._prefix(e)),this},clear:function(){var e,n,i=[],r=t.length;for(e=0;e<r;e++)(n=t.key(e)).match(this.keyMatcher)&&i.push(n.replace(this.keyMatcher,""));for(e=i.length;e--;)this.remove(i[e]);return this},isExpired:function(e){var n=o(t.getItem(this._ttlKey(e)));return!!(i.isNumber(n)&&r()>n)}}:{get:i.noop,set:i.noop,remove:i.noop,clear:i.noop,isExpired:i.noop},i.mixin(n.prototype,e),n;function r(){return(new Date).getTime()}function s(t){return JSON.stringify(i.isUndefined(t)?null:t)}function o(t){return JSON.parse(t)}}(),a=function(){var t=0,n={},r=6,o=new s(10);function a(t){var n;t=t||{},this._send=t.transport?(n=t.transport,function(t,r){var s=e.Deferred();return n(t,r,(function(t){i.defer((function(){s.resolve(t)}))}),(function(t){i.defer((function(){s.reject(t)}))})),s}):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get}return a.setMaxPendingRequests=function(t){r=t},a.resetCache=function(){o=new s(10)},i.mixin(a.prototype,{_get:function(e,i,s){var a,u=this;function c(t){s&&s(null,t),o.set(e,t)}function l(){s&&s(!0)}function h(){t--,delete n[e],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}(a=n[e])?a.done(c).fail(l):t<r?(t++,n[e]=this._send(e,i).done(c).fail(l).always(h)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(t,e,n){var r;return i.isFunction(e)&&(n=e,e={}),(r=o.get(t))?i.defer((function(){n&&n(null,r)})):this._get(t,e,n),!!r}}),a}(),u=function(){function t(t){(t=t||{}).datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}return i.mixin(t.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var e=this;t=i.isArray(t)?t:[t],i.each(t,(function(t){var r,s;r=e.datums.push(t)-1,s=n(e.datumTokenizer(t)),i.each(s,(function(t){var n,i,s;for(n=e.trie,i=t.split("");s=i.shift();)(n=n.children[s]||(n.children[s]={ids:[],children:{}})).ids.push(r)}))}))},get:function(t){var e,r,s=this;return e=n(this.queryTokenizer(t)),i.each(e,(function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=s.trie,n=t.split("");e&&(i=n.shift());)e=e.children[i];if(!e||0!==n.length)return r=[],!1;o=e.ids.slice(0),r=r?function(t,e){var n=0,i=0,r=[];t=t.sort(s),e=e.sort(s);for(;n<t.length&&i<e.length;)t[n]<e[i]?n++:(t[n]>e[i]||(r.push(t[n]),n++),i++);return r;function s(t,e){return t-e}}(r,o):o})),r?i.map(function(t){for(var e={},n=[],i=0;i<t.length;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}(r),(function(t){return s.datums[t]})):[]},reset:function(){this.datums=[],this.trie={ids:[],children:{}}},serialize:function(){return{datums:this.datums,trie:this.trie}}}),t;function n(t){return t=i.filter(t,(function(t){return!!t})),t=i.map(t,(function(t){return t.toLowerCase()}))}}(),c={local:function(t){return t.local||null},prefetch:function(t){var n,r;return r={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(n=t.prefetch||null)&&(n=i.isString(n)?{url:n}:n,(n=i.mixin(r,n)).thumbprint="0.10.2"+n.thumbprint,n.ajax.type=n.ajax.type||"GET",n.ajax.dataType=n.ajax.dataType||"json",!n.url&&e.error("prefetch requires url to be set")),n},remote:function(t){var n,r,s;return r={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(n=t.remote||null)&&(n=i.isString(n)?{url:n}:n,(n=i.mixin(r,n)).rateLimiter=/^throttle$/i.test(n.rateLimitBy)?(s=n.rateLimitWait,function(t){return i.throttle(t,s)}):function(t){return function(e){return i.debounce(e,t)}}(n.rateLimitWait),n.ajax.type=n.ajax.type||"GET",n.ajax.dataType=n.ajax.dataType||"json",delete n.rateLimitBy,delete n.rateLimitWait,!n.url&&e.error("remote requires url to be set")),n}};!function(t){var n,s;function l(t){var n;t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=(n=t.sorter,i.isFunction(n)?function(t){return t.sort(n)}:function(t){return t}),this.dupDetector=t.dupDetector||h,this.local=c.local(t),this.prefetch=c.prefetch(t),this.remote=c.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new u({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new o(this.cacheKey):null}return n=t.Bloodhound,s={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.Bloodhound=l,l.noConflict=function(){return t.Bloodhound=n,l},l.tokenizers=r,i.mixin(l.prototype,{_loadPrefetch:function(t){var n,i,r=this;return(n=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(n),i=e.Deferred().resolve()):i=e.ajax(t.url,t.ajax).done((function(e){r.clear(),r.add(t.filter?t.filter(e):e),r._saveToStorage(r.index.serialize(),t.thumbprint,t.ttl)})),i},_getFromRemote:function(t,e){var n,i,r=this;return t=t||"",i=encodeURIComponent(t),n=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,i),this.transport.get(n,this.remote.ajax,(function(t,n){e(t?[]:r.remote.filter?r.remote.filter(n):n)}))},_saveToStorage:function(t,e,n){this.storage&&(this.storage.set(s.data,t,n),this.storage.set(s.protocol,location.protocol,n),this.storage.set(s.thumbprint,e,n))},_readFromStorage:function(t){var e,n={};return this.storage&&(n.data=this.storage.get(s.data),n.protocol=this.storage.get(s.protocol),n.thumbprint=this.storage.get(s.thumbprint)),e=n.thumbprint!==t||n.protocol!==location.protocol,n.data&&!e?n.data:null},_initialize:function(){var t,n=this,r=this.local;return t=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),r&&t.done((function(){n.add(i.isFunction(r)?r():r)})),this.transport=this.remote?new a(this.remote):null,this.initPromise=t.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,e){var n=this,r=[],s=!1;r=this.index.get(t),(r=this.sorter(r).slice(0,this.limit)).length<this.limit&&this.transport&&(s=this._getFromRemote(t,(function(t){var s=r.slice(0);i.each(t,(function(t){return!i.some(s,(function(e){return n.dupDetector(t,e)}))&&s.push(t),s.length<n.limit})),e&&e(n.sorter(s))}))),s||(r.length>0||!this.transport)&&e&&e(r)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&a.resetCache()},ttAdapter:function(){return i.bind(this.get,this)}}),l;function h(){return!1}}(this);var l={wrapper:"<div></div>",dropdown:'<div class="tt-dropdown-menu autocomplete typeahead-load"></div>',dataset:'<section class="search-box search-box--suggestion search-box--dark %CLASS%"></section>',suggestions:'<ul class="ui-autocomplete" tabindex="-1" aria-labelledby="suggest-%CLASS%">',suggestion:"<li></li>"},h={wrapper:{},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{display:"none"},suggestions:{},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{},ltr:{},rtl:{}};i.isMsie()&&i.mixin(h.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),i.isMsie()&&i.isMsie()<=7&&i.mixin(h.input,{marginTop:"-1px"});var d,p,f,g,m=function(){function t(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}return i.mixin(t.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+t,e)}}),t}(),y=function(){var e=/\s+/,n=function(){var e;e=window.setImmediate?function(e){t((function(){e()}))}:function(t){setTimeout((function(){t()}),0)};return e}();return{onSync:function(t,e,n){return i.call(this,"sync",t,e,n)},onAsync:function(t,e,n){return i.call(this,"async",t,e,n)},off:function(t){var n;if(!this._callbacks)return this;t=t.split(e);for(;n=t.shift();)delete this._callbacks[n];return this},trigger:function(t){var i,s,o,a,u;if(!this._callbacks)return this;t=t.split(e),o=[].slice.call(arguments,1);for(;(i=t.shift())&&(s=this._callbacks[i]);)a=r(s.sync,this,[i].concat(o)),u=r(s.async,this,[i].concat(o)),a()&&n(u);return this}};function i(t,n,i,r){var s;if(!i)return this;for(n=n.split(e),i=r?function(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}(i,r):i,this._callbacks=this._callbacks||{};s=n.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function r(t,e,n){return function(){for(var i,r=0;!i&&r<t.length;r+=1)i=!1===t[r].apply(e,n);return!i}}}(),v=(d=window.document,p={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1},function(t){var e;(t=i.mixin({},p,t)).node&&t.pattern&&(t.pattern=i.isArray(t.pattern)?t.pattern:[t.pattern],e=function(t,e,n){for(var r,s=[],o=0;o<t.length;o++)s.push(i.escapeRegExChars(t[o]));return r=n?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",e?new RegExp(r):new RegExp(r,"i")}(t.pattern,t.caseSensitive,t.wordsOnly),function t(e,n){for(var i,r=0;r<e.childNodes.length;r++)3===(i=e.childNodes[r]).nodeType?r+=n(i)?1:0:t(i,n)}(t.node,(function(n){var i,r;return(i=e.exec(n.data))&&(wrapperNode=d.createElement(t.tagName),t.className&&(wrapperNode.className=t.className),(r=n.splitText(i.index)).splitText(i[0].length),wrapperNode.appendChild(r.cloneNode(!0)),n.parentNode.replaceChild(wrapperNode,r)),!!i})))}),_=function(){var t;function n(n){var r,s,o,a,u,c=this;(n=n||{}).input||e.error("input is missing"),r=i.bind(this._onBlur,this),s=i.bind(this._onFocus,this),o=i.bind(this._onKeydown,this),a=i.bind(this._onInput,this),this.$hint=e(n.hint),this.$input=e(n.input).on("blur.tt",r).on("focus.tt",s).on("keydown.tt",o),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=i.noop),i.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",(function(e){t[e.which||e.keyCode]||i.defer(i.bind(c._onInput,c,e))})):this.$input.on("input.tt",a),this.query=this.$input.val(),this.$overflowHelper=(u=this.$input,e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:u.css("font-family"),fontSize:u.css("font-size"),fontStyle:u.css("font-style"),fontVariant:u.css("font-variant"),fontWeight:u.css("font-weight"),wordSpacing:u.css("word-spacing"),letterSpacing:u.css("letter-spacing"),textIndent:u.css("text-indent"),textRendering:u.css("text-rendering"),textTransform:u.css("text-transform")}).insertAfter(u))}return t={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},i.mixin(n.prototype,y,{_onBlur:function(t){t.stopPropagation()},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var n=t[e.which||e.keyCode];this._managePreventDefault(n,e),n&&this._shouldTrigger(n,e)&&this.trigger(n+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,s;switch(t){case"tab":i=this.getHint(),s=this.getInputValue(),n=i&&i!==s&&!r(e);break;case"up":case"down":n=!r(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!r(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,i,r,s;t=this.getInputValue(),r=t,s=this.query,i=!!(e=n.normalizeQuery(r)===n.normalizeQuery(s))&&this.query.length!==t.length,e?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=t)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,n;return t=this.$input.val().length,e=this.$input[0].selectionStart,i.isNumber(e)?e===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n;function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}(),b=function(){function t(t){var n,r,s,o;(t=t||{}).templates=t.templates||{},t.source||e.error("missing source"),t.name&&(n=t.name,!/^[_a-zA-Z0-9-]+$/.test(n))&&e.error("invalid dataset name: "+t.name),this.query=null,this.highlight=!!t.highlight,this.name=t.name||i.getUniqueId(),this.source=t.source,this.displayFn=(r=(r=t.display||t.displayKey)||"value",i.isFunction(r)?r:function(t){return t[r]}),this.templates=(s=t.templates,o=this.displayFn,{empty:s.empty&&i.templatify(s.empty),header:s.header&&i.templatify(s.header),footer:s.footer&&i.templatify(s.footer),suggestion:s.suggestion||function(t){return"<p>"+o(t)+"</p>"}}),this.$el=e(l.dataset.replace("%CLASS%",this.name)),this.arialive=void 0!==t.arialive&&t.arialive,!1!==this.arialive&&this.$el.attr("aria-live",this.arialive)}return t.extractDatasetName=function(t){return e(t).data("ttDataset")},t.extractValue=function(t){return e(t).data("ttValue")},t.extractDatum=function(t){return e(t).data("ttDatum")},i.mixin(t.prototype,y,{_render:function(t,n){if(this.$el){var r,s,o,a=this;this.$el.empty(),!(r=n&&n.length)&&this.templates.empty?this.$el.html(a.templates.empty({query:t,isEmpty:!0})).prepend(a.templates.header?u():null).append(a.templates.footer?"":null):r&&this.$el.html((s=e(l.suggestions.replace("%CLASS%",a.name)).css(h.suggestions),o=i.map(n,(function(t){var n;return(n=e(l.suggestion).append(a.templates.suggestion(t)).data("ttDataset",a.name).data("ttValue",a.displayFn(t)).data("ttDatum",t)).children().each((function(){e(this).css(h.suggestionChild)})),n})),s.append.apply(s,o),a.highlight&&v({node:s[0],pattern:t}),s)).prepend(a.templates.header?u():null).append(a.templates.footer?a.templates.footer({query:t,isEmpty:!r}):null),this.trigger("rendered")}function u(){return a.templates.header({query:t,isEmpty:!r})}},getRoot:function(){return this.$el},update:function(t){var e=this;this.query=t,this.canceled=!1,this.source(t,(function(n){e.canceled||t!==e.query||e._render(t,n)}))},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),t}(),w=function(){function t(t){var r,s,o,a=this;(t=t||{}).menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=i.map(t.datasets,n),r=i.bind(this._onSuggestionClick,this),s=i.bind(this._onSuggestionMouseEnter,this),o=i.bind(this._onSuggestionMouseLeave,this),this.$menu=e(t.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",s).on("mouseleave.tt",".tt-suggestion",o),i.each(this.datasets,(function(t){a.$menu.append(t.getRoot()),t.onSync("rendered",a._onRendered,a)}))}return i.mixin(t.prototype,y,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){this.isEmpty=i.every(this.datasets,(function(t){return t.isEmpty()})),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.show()},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,r;this.isOpen&&(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1!==(i=((i=e.index(n)+t)+1)%(e.length+1)-1)?(i<-1&&(i=e.length-1),this._setCursor(r=e.eq(i)),this._ensureVisible(r)):this.trigger("cursorRemoved"))},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),e<0?this.$menu.scrollTop(i+e):r<n&&this.$menu.scrollTop(i+(n-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?h.ltr:h.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:b.extractDatum(t),value:b.extractValue(t),datasetName:b.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){i.each(this.datasets,(function(e){e.update(t)}))},empty:function(){i.each(this.datasets,(function(t){t.clear()})),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".tt"),this.$menu=null,i.each(this.datasets,(function(t){t.destroy()}))}}),t;function n(t){return new b(t)}}(),k=function(){function t(t){var n,r,s;(t=t||{}).input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!t.autoselect,this.minLength=i.isNumber(t.minLength)?t.minLength:1,this.assistivehint=t.assistivehint||"As you type into this search box, suggested search terms will become available as links below this form.",this.$node=function(t,n,i){var r,s,o;r=e(t),e(l.wrapper).css(h.wrapper),s=e(l.dropdown).css(h.dropdown),(o=r.clone().css(h.hint).css((a=r,{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),r.data("ttAttrs",{dir:r.attr("dir"),autocomplete:r.attr("autocomplete"),spellcheck:r.attr("spellcheck"),style:r.attr("style")}),r.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?h.input:h.inputWithNoHint);var a;try{!r.attr("dir")&&r.attr("dir","auto")}catch(t){}var u=r.attr("id")+"_assistive_hint";return r.after('<span id="'+u+'" style="display:none">'+i+"</span>"),r.attr("aria-describedby",u),r.parent().attr("aria-live","off"),r.parent().prepend(n?o:null).parent().parent().attr("aria-live","polite").append(s)}(t.input,t.withHint,this.assistivehint),n=this.$node.find(".tt-dropdown-menu"),r=this.$node.find(".tt-input"),s=this.$node.find(".tt-hint"),r.on("blur.tt",(function(t){var e,s,o;e=document.activeElement,s=n.is(e),o=n.has(e).length>0,i.isMsie()&&(s||o)&&(t.preventDefault(),t.stopImmediatePropagation(),i.defer((function(){r.focus()})))})),n.on("mousedown.tt",(function(t){t.preventDefault()})),this.eventBus=t.eventBus||new m({el:r}),this.dropdown=new w({menu:n,datasets:t.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new _({input:r,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}return i.mixin(t.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,n,r,s;(t=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(e=this.input.getInputValue(),n=_.normalizeQuery(e),r=i.escapeRegExChars(n),(s=new RegExp("^(?:"+r+")(.+$)","i").exec(t.value))?this.input.setHint(e+s[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,r;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&((r=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),i.defer(i.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){var t,e;this.input.destroy(),this.dropdown.destroy(),t=this.$node,e=t.find(".tt-input"),i.each(e.data("ttAttrs"),(function(t,n){i.isUndefined(t)?e.removeAttr(n):e.attr(n,t)})),e.detach().removeData("ttAttrs").removeClass("tt-input").insertAfter(t),t.remove(),this.$node=null}}),t}();f=e.fn.typeahead,g={initialize:function(t,n){return n=i.isArray(n)?n:[].slice.call(arguments,1),t=t||{},this.each(r);function r(){var r,s=e(this);i.each(n,(function(e){e.highlight=!!t.highlight})),r=new k({input:s,eventBus:new m({el:s}),withHint:!!i.isUndefined(t.hint)||!!t.hint,minLength:t.minLength,autoselect:t.autoselect,assistivehint:!i.isUndefined(t.assistivehint)&&t.assistivehint,datasets:n}),s.data("ttTypeahead",r)}},open:function(){return this.each((function(){var t,n=e(this);(t=n.data("ttTypeahead"))&&t.open()}))},close:function(){return this.each((function(){var t,n=e(this);(t=n.data("ttTypeahead"))&&t.close()}))},val:function(t){return arguments.length?this.each(n):i(this.first());function n(){var n;(n=e(this).data("ttTypeahead"))&&n.setVal(t)}function i(t){var e,n;return(e=t.data("ttTypeahead"))&&(n=e.getVal()),n}},destroy:function(){return this.each((function(){var t,n=e(this);(t=n.data("ttTypeahead"))&&(t.destroy(),n.removeData("ttTypeahead"))}))}},e.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=f,this}}(window.jQuery)}).call(this,n(83).setImmediate)}});